#!/bin/bash

# EVALUATION ORDER
# catalystrc sets ENVIRONMENT as may any other script do
# if no VAR is set in ENVIRONMENT make.conf sets variable
# catalyst-spec is additive to already set USE flags
# ENVIRONMENT supersedes package.use specific flags set

export EMERGE_DEFAULT_OPTS="--verbose y --verbose-conflicts --verbose-slot-rebuilds y --binpkg-respect-use y --deep --complete-graph y --load-average 16.0 --jobs=128 --accept-properties=-interactive"
#export MAKEOPTS="-j16"
export PORTAGE_CHECKSUM_FILTER="-* sha256"
export PORTAGE_COMPRESS="gzip"
export PORTAGE_COMPRESS_FLAGS="-1"
#export BINPKG_COMPRESS="gzip"
#export BINPKG_COMPRESS_FLAGS="-1"
export BINPKG_COMPRESS="lzop"
export BINPKG_COMPRESS_FLAGS="-1"
#export BINPKG_COMPRESS="tar"
#fomit-frame-pointer when debugging is not required
export CFLAGS="-Os -pipe -falign-functions=1 -falign-jumps=1 -falign-labels=1 -falign-loops=1 -fomit-frame-pointer -Wno-error -Wno-narrowing -Wno-write-strings"
export CXXFLAGS="-Os -pipe -falign-functions=1 -falign-jumps=1 -falign-labels=1 -falign-loops=1 -fomit-frame-pointer -Wno-error -Wno-narrowing -Wno-write-strings"
#export KCFLAGS="-Os -pipe -falign-functions=1 -falign-jumps=1 -falign-labels=1 -falign-loops=1 -fomit-frame-pointer -Wno-error -Wno-narrowing -Wno-write-strings"
# ssse3 would exclude phenom2 generation AMD cpus
export CPU_FLAGS_X86="mmx mmxext sse sse2 sse3"
export PROFILE_IS_HARDENED=1
export ACCEPT_KEYWORDS="~amd64"
export USE="-bindist -branding -debug -test -pam -systemd -consolekit -policykit -dbus -kdbus -oss -pulseaudio hardened urandom ipv6 sasl ssl libressl -gnutls -nettle threads nptl nls unicode bzip2 lzo lzma xz zlib readline fortran clang gmp openmp ghc smp"
#static-libs
export PYTHON_SINGLE_TARGET="python2_7"
#export PYTHON_SINGLE_TARGET="python3_5"
export PYTHON_TARGETS="python2_7 python3_5 python3_6"
export ACCEPT_KEYWORDS="~amd64"

export PORTAGE_REPO_DUPLICATE_WARN="0"
export SWITCH_CTARGET=x86_64-pc-linux-gnu-7.3.0

export PORTAGE_TMPDIR=/var/tmp
export PORTAGE_NICENESS=18

export SHELL="/bin/bash"

export COLLISION_IGNORE="/usr/share/vim/*"

export GK_SHARE=/etc/portage/gk_share
