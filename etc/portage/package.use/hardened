#requires gnupg2
#sys-apps/portage -rsync-verify

sys-kernel/ck-sources experimental -deblob
sys-kernel/genkernel -firmware cryptsetup

# required by libreoffice, tweaked to not fail with <gnupg-2
app-crypt/gpgme cxx

# required by dev-libs/libxml2-2.9.7::gentoo[python,python_targets_python3_5]
# required by sys-devel/gettext (argument)
#>=dev-lang/python-3.5.2 xml
# required by dev-libs/libxml2-2.9.7::gentoo[python,python_targets_python2_7]
# required by sys-devel/gettext (argument)
#>=dev-lang/python-2.7.12:2.7 xml
dev-lang/python xml
dev-lang/python xml

# reliable event logging protocol
app-admin/rsyslog -jemalloc rfc3195 rfc5424hmac usertools snmp
dev-libs/liblogging rfc3195

net-misc/openssh -bindist -X
net-misc/iputils ssl openssl libressl -gcrypt -gnutls -nettle
net-misc/curl -gnutls -curl_ssl_openssl -openssl libressl curl_ssl_libressl
net-vpn/ipsec-tools rc5 idea nat hybrid
sys-fs/cryptsetup -python -gcrypt openssl libressl

sys-apps/util-linux static-libs

# highlight requires lua
app-text/asciidoc -highlight
dev-vcs/git blksha1 curl gpg -highlight iconv subversion cvs perl -python cgi tk -pcre-jit -dso -extras -kde
dev-vcs/subversion perl -dso

# gnutls, nettle
mail-mta/nullmailer -ssl

#
dev-libs/libpcre pcre16
#
dev-libs/libpcre2 pcre16

#
app-misc/pax-utils -python

#
sys-libs/libapparmor python perl

# attention: firmware pinning locks qemu to latest unstable if latest firmware is available only in ports tree
app-emulation/qemu -usb -usbredir -sdl -sdl2 -alsa -opengl -curl spice -vnc -vte ncurses usb fdt arm i386 x86_64 qemu_softmmu_targets_arm qemu_softmmu_targets_i386 qemu_softmmu_targets_x86_64 qemu_user_targets_arm qemu_user_targets_i386 qemu_user_targets_x86_64 vde smartcard -pin-upstream-blobs
# circular dependency spice-qemu-spice due to smartcard
app-emulation/spice -smartcard

#
app-emulation/wine-any -ssl -udisks staging d3d9 s3tc abi_x86_32 abi_x86_64

# required by hwdb,eudev
sys-apps/hwids udev
sys-apps/pcsc-lite udev

app-editors/vim -X

#
app-misc/rmlint -X

# circular dependency qtcore->cmake->qtcore
dev-util/cmake -qt5

#
app-office/libreoffice gtk gtk2 -gtk3 -jemalloc -kde -pdfimport -google -eds
dev-libs/xmlsec nss

#
app-text/ghostscript-gpl cups -gtk -X
net-print/cups -X

#
dev-qt/qtgui -dbus -libinput
dev-qt/qtwidgets -gtk

#
media-video/vlc -ssl

# required by www-apps/ikiwiki
media-gfx/imagemagick perl

#
media-libs/gst-plugins-bad -gtk opengl -egl -gles2
media-libs/gst-plugins-base -gtk opengl -egl -gles2
media-libs/gst-plugins-good -gtk opengl -egl -gles2
media-libs/gst-plugins-ugly -gtk opengl -egl -gles2
media-libs/gst-plugins-vaapi -gtk opengl -egl -gles2
media-libs/mesa llvm classic gles1 gles2 egl gallium gbm vdpau xa dri3 -vaapi -wayland opencl d3d9

# file collision of /usr/bin/smfsh from media-libs/libsmf with media-sound/jack-smf-utils
media-libs/libextractor -gtk -midi

# compilation fails with static-libs for >openjpeg-1.5.2-r1
media-libs/openjpeg -static-libs

media-video/libav -ssl

#
mail-client/mutt -crypt -gpg -gpgme ssl smtp imap pop mbox sidebar pgp_classic smime smime_classic idn nntp hcache -berkdb gdbm -lmdb -qdbm -tokyocabinet
net-mail/notmuch mutt -crypt
dev-libs/gmime -smime

# svgtiny is broken
www-client/netsurf gtk -svgtiny javascript

#-suid is a pain in the arse, strace -e trace=open,ioctl Xorg
#ioctl(10, DRM_IOCTL_SET_MASTER, 0)      = -1 EACCES (Permission denied)
#Xorg.log: Unable to retrieve master
#radeon specific drm code, gpu driver dependent
#if user is in group video and/or input this might do more harm than any good because direcat hardware acess for user
#
x11-base/xorg-server xorg suid glamor xcsecurity
#
x11-libs/libfm gtk -automount -udisks
x11-misc/xdg-user-dirs -gtk
x11-libs/wxGTK -gstreamer

#
net-wireless/aircrack-ng -airdrop-ng
net-analyzer/wireshark -ssl -gtk libssh tfshark tshark

#
# required by net-analyzer/argus-clients
net-analyzer/rrdtool perl

# required by various
sys-libs/zlib minizip

# required by app-text/gnome-doc-utils
# required by app-text/stardict-3.0.6-r3::gentoo
dev-libs/libxml2 python

# required by x11-misc/xdg-utils
# required by media-gfx/xsane
app-text/xmlto text

# required by app-office/texstudio
app-office/texstudio -video

# required by media-gfx/inkscape
media-gfx/pstoedit plotutils

#
sys-apps/flashrom ch341a_spi

#
net-analyzer/nmap ncat nping

# otherwise dbus is required with gtk or qt
net-p2p/transmission -gtk -ayatana -qt5

#
net-vpn/tor tor-hardening transparent-proxy

# otherwise broken with >libressl-2.4/2.5, overlay
net-vpn/openvpn mbedtls -libressl

# [client,winbind] required by media-video/vlc
net-fs/samba client winbind
#sys-libs/talloc python
#sys-libs/tevent python
#sys-libs/tdb python
#sys-libs/ldb python
# python dependency is highly suspicious here!

# configure: error: Basic auth helper NIS ... found but cannot be built
net-proxy/squid -nis

# kerberos conflicts with ssl/libressl
www-servers/lighttpd -minimal -kerberos

# required by app-vim/splice (argument) and vimpress
#app-editors/vim python

# egl_system.c: In function 'InitEGL':
# egl_system.c:150:82: error: 'nativewindow' undeclared (first use in this function)
dev-libs/DirectFB -egl

# geolocation demands introspection, opengl or gles2 choice required
net-libs/webkit-gtk -geolocation -gles2 opengl

# pulled in by geany/geany-plugins, crypt requires gnutls
x11-libs/vte -crypt

#
dev-util/anjuta -introspection -packagekit terminal

# gtk and gtk3 cannot be set at the same time, ebuild quirk
net-misc/dhcpcd-ui -gtk gtk3

# hfs requires diskdev_cmds with openssl currently, kde pulls in crap, btrfs stil broken
sys-block/gparted cryptsetup dmraid f2fs fat jfs kde mdadm ntfs udf xfs -kde
#sys-block/gparted btrfs cryptsetup dmraid f2fs fat hfs jfs kde mdadm ntfs policykit reiserfs reiser4 udf xfs

# ntfsdecrypt requires gnutls
sys-fs/ntfs3g -ntfsdecrypt ntfsprogs

#
games-fps/darkplaces cdsound lights textures -sdl

